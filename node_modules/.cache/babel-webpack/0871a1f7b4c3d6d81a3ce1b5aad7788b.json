{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function (d, b) {\n  for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n\n  function __() {\n    this.constructor = d;\n  }\n\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\n\nvar Subject_1 = require('../Subject');\n\nvar Observable_1 = require('../Observable');\n\nvar Subscriber_1 = require('../Subscriber');\n\nvar Subscription_1 = require('../Subscription');\n\nvar refCount_1 = require('../operators/refCount');\n/**\n * @class ConnectableObservable<T>\n */\n\n\nvar ConnectableObservable = function (_super) {\n  __extends(ConnectableObservable, _super);\n\n  function ConnectableObservable(\n  /** @deprecated internal use only */\n  source,\n  /** @deprecated internal use only */\n  subjectFactory) {\n    _super.call(this);\n\n    this.source = source;\n    this.subjectFactory = subjectFactory;\n    /** @deprecated internal use only */\n\n    this._refCount = 0;\n    this._isComplete = false;\n  }\n  /** @deprecated internal use only */\n\n\n  ConnectableObservable.prototype._subscribe = function (subscriber) {\n    return this.getSubject().subscribe(subscriber);\n  };\n  /** @deprecated internal use only */\n\n\n  ConnectableObservable.prototype.getSubject = function () {\n    var subject = this._subject;\n\n    if (!subject || subject.isStopped) {\n      this._subject = this.subjectFactory();\n    }\n\n    return this._subject;\n  };\n\n  ConnectableObservable.prototype.connect = function () {\n    var connection = this._connection;\n\n    if (!connection) {\n      this._isComplete = false;\n      connection = this._connection = new Subscription_1.Subscription();\n      connection.add(this.source.subscribe(new ConnectableSubscriber(this.getSubject(), this)));\n\n      if (connection.closed) {\n        this._connection = null;\n        connection = Subscription_1.Subscription.EMPTY;\n      } else {\n        this._connection = connection;\n      }\n    }\n\n    return connection;\n  };\n\n  ConnectableObservable.prototype.refCount = function () {\n    return refCount_1.refCount()(this);\n  };\n\n  return ConnectableObservable;\n}(Observable_1.Observable);\n\nexports.ConnectableObservable = ConnectableObservable;\nvar connectableProto = ConnectableObservable.prototype;\nexports.connectableObservableDescriptor = {\n  operator: {\n    value: null\n  },\n  _refCount: {\n    value: 0,\n    writable: true\n  },\n  _subject: {\n    value: null,\n    writable: true\n  },\n  _connection: {\n    value: null,\n    writable: true\n  },\n  _subscribe: {\n    value: connectableProto._subscribe\n  },\n  _isComplete: {\n    value: connectableProto._isComplete,\n    writable: true\n  },\n  getSubject: {\n    value: connectableProto.getSubject\n  },\n  connect: {\n    value: connectableProto.connect\n  },\n  refCount: {\n    value: connectableProto.refCount\n  }\n};\n\nvar ConnectableSubscriber = function (_super) {\n  __extends(ConnectableSubscriber, _super);\n\n  function ConnectableSubscriber(destination, connectable) {\n    _super.call(this, destination);\n\n    this.connectable = connectable;\n  }\n\n  ConnectableSubscriber.prototype._error = function (err) {\n    this._unsubscribe();\n\n    _super.prototype._error.call(this, err);\n  };\n\n  ConnectableSubscriber.prototype._complete = function () {\n    this.connectable._isComplete = true;\n\n    this._unsubscribe();\n\n    _super.prototype._complete.call(this);\n  };\n  /** @deprecated internal use only */\n\n\n  ConnectableSubscriber.prototype._unsubscribe = function () {\n    var connectable = this.connectable;\n\n    if (connectable) {\n      this.connectable = null;\n      var connection = connectable._connection;\n      connectable._refCount = 0;\n      connectable._subject = null;\n      connectable._connection = null;\n\n      if (connection) {\n        connection.unsubscribe();\n      }\n    }\n  };\n\n  return ConnectableSubscriber;\n}(Subject_1.SubjectSubscriber);\n\nvar RefCountOperator = function () {\n  function RefCountOperator(connectable) {\n    this.connectable = connectable;\n  }\n\n  RefCountOperator.prototype.call = function (subscriber, source) {\n    var connectable = this.connectable;\n    connectable._refCount++;\n    var refCounter = new RefCountSubscriber(subscriber, connectable);\n    var subscription = source.subscribe(refCounter);\n\n    if (!refCounter.closed) {\n      refCounter.connection = connectable.connect();\n    }\n\n    return subscription;\n  };\n\n  return RefCountOperator;\n}();\n\nvar RefCountSubscriber = function (_super) {\n  __extends(RefCountSubscriber, _super);\n\n  function RefCountSubscriber(destination, connectable) {\n    _super.call(this, destination);\n\n    this.connectable = connectable;\n  }\n  /** @deprecated internal use only */\n\n\n  RefCountSubscriber.prototype._unsubscribe = function () {\n    var connectable = this.connectable;\n\n    if (!connectable) {\n      this.connection = null;\n      return;\n    }\n\n    this.connectable = null;\n    var refCount = connectable._refCount;\n\n    if (refCount <= 0) {\n      this.connection = null;\n      return;\n    }\n\n    connectable._refCount = refCount - 1;\n\n    if (refCount > 1) {\n      this.connection = null;\n      return;\n    } ///\n    // Compare the local RefCountSubscriber's connection Subscription to the\n    // connection Subscription on the shared ConnectableObservable. In cases\n    // where the ConnectableObservable source synchronously emits values, and\n    // the RefCountSubscriber's downstream Observers synchronously unsubscribe,\n    // execution continues to here before the RefCountOperator has a chance to\n    // supply the RefCountSubscriber with the shared connection Subscription.\n    // For example:\n    // ```\n    // Observable.range(0, 10)\n    //   .publish()\n    //   .refCount()\n    //   .take(5)\n    //   .subscribe();\n    // ```\n    // In order to account for this case, RefCountSubscriber should only dispose\n    // the ConnectableObservable's shared connection Subscription if the\n    // connection Subscription exists, *and* either:\n    //   a. RefCountSubscriber doesn't have a reference to the shared connection\n    //      Subscription yet, or,\n    //   b. RefCountSubscriber's connection Subscription reference is identical\n    //      to the shared connection Subscription\n    ///\n\n\n    var connection = this.connection;\n    var sharedConnection = connectable._connection;\n    this.connection = null;\n\n    if (sharedConnection && (!connection || sharedConnection === connection)) {\n      sharedConnection.unsubscribe();\n    }\n  };\n\n  return RefCountSubscriber;\n}(Subscriber_1.Subscriber); //# sourceMappingURL=ConnectableObservable.js.map","map":{"version":3,"sources":["/Users/nguyenlong/ProjectCompany/2nMart/websiteclient-2nmart.vn/node_modules/ng5-slider/node_modules/rxjs/observable/ConnectableObservable.js"],"names":["__extends","d","b","p","hasOwnProperty","__","constructor","prototype","Object","create","Subject_1","require","Observable_1","Subscriber_1","Subscription_1","refCount_1","ConnectableObservable","_super","source","subjectFactory","call","_refCount","_isComplete","_subscribe","subscriber","getSubject","subscribe","subject","_subject","isStopped","connect","connection","_connection","Subscription","add","ConnectableSubscriber","closed","EMPTY","refCount","Observable","exports","connectableProto","connectableObservableDescriptor","operator","value","writable","destination","connectable","_error","err","_unsubscribe","_complete","unsubscribe","SubjectSubscriber","RefCountOperator","refCounter","RefCountSubscriber","subscription","sharedConnection","Subscriber"],"mappings":"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","sourcesContent":["\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subject_1 = require('../Subject');\nvar Observable_1 = require('../Observable');\nvar Subscriber_1 = require('../Subscriber');\nvar Subscription_1 = require('../Subscription');\nvar refCount_1 = require('../operators/refCount');\n/**\n * @class ConnectableObservable<T>\n */\nvar ConnectableObservable = (function (_super) {\n    __extends(ConnectableObservable, _super);\n    function ConnectableObservable(/** @deprecated internal use only */ source, \n        /** @deprecated internal use only */ subjectFactory) {\n        _super.call(this);\n        this.source = source;\n        this.subjectFactory = subjectFactory;\n        /** @deprecated internal use only */ this._refCount = 0;\n        this._isComplete = false;\n    }\n    /** @deprecated internal use only */ ConnectableObservable.prototype._subscribe = function (subscriber) {\n        return this.getSubject().subscribe(subscriber);\n    };\n    /** @deprecated internal use only */ ConnectableObservable.prototype.getSubject = function () {\n        var subject = this._subject;\n        if (!subject || subject.isStopped) {\n            this._subject = this.subjectFactory();\n        }\n        return this._subject;\n    };\n    ConnectableObservable.prototype.connect = function () {\n        var connection = this._connection;\n        if (!connection) {\n            this._isComplete = false;\n            connection = this._connection = new Subscription_1.Subscription();\n            connection.add(this.source\n                .subscribe(new ConnectableSubscriber(this.getSubject(), this)));\n            if (connection.closed) {\n                this._connection = null;\n                connection = Subscription_1.Subscription.EMPTY;\n            }\n            else {\n                this._connection = connection;\n            }\n        }\n        return connection;\n    };\n    ConnectableObservable.prototype.refCount = function () {\n        return refCount_1.refCount()(this);\n    };\n    return ConnectableObservable;\n}(Observable_1.Observable));\nexports.ConnectableObservable = ConnectableObservable;\nvar connectableProto = ConnectableObservable.prototype;\nexports.connectableObservableDescriptor = {\n    operator: { value: null },\n    _refCount: { value: 0, writable: true },\n    _subject: { value: null, writable: true },\n    _connection: { value: null, writable: true },\n    _subscribe: { value: connectableProto._subscribe },\n    _isComplete: { value: connectableProto._isComplete, writable: true },\n    getSubject: { value: connectableProto.getSubject },\n    connect: { value: connectableProto.connect },\n    refCount: { value: connectableProto.refCount }\n};\nvar ConnectableSubscriber = (function (_super) {\n    __extends(ConnectableSubscriber, _super);\n    function ConnectableSubscriber(destination, connectable) {\n        _super.call(this, destination);\n        this.connectable = connectable;\n    }\n    ConnectableSubscriber.prototype._error = function (err) {\n        this._unsubscribe();\n        _super.prototype._error.call(this, err);\n    };\n    ConnectableSubscriber.prototype._complete = function () {\n        this.connectable._isComplete = true;\n        this._unsubscribe();\n        _super.prototype._complete.call(this);\n    };\n    /** @deprecated internal use only */ ConnectableSubscriber.prototype._unsubscribe = function () {\n        var connectable = this.connectable;\n        if (connectable) {\n            this.connectable = null;\n            var connection = connectable._connection;\n            connectable._refCount = 0;\n            connectable._subject = null;\n            connectable._connection = null;\n            if (connection) {\n                connection.unsubscribe();\n            }\n        }\n    };\n    return ConnectableSubscriber;\n}(Subject_1.SubjectSubscriber));\nvar RefCountOperator = (function () {\n    function RefCountOperator(connectable) {\n        this.connectable = connectable;\n    }\n    RefCountOperator.prototype.call = function (subscriber, source) {\n        var connectable = this.connectable;\n        connectable._refCount++;\n        var refCounter = new RefCountSubscriber(subscriber, connectable);\n        var subscription = source.subscribe(refCounter);\n        if (!refCounter.closed) {\n            refCounter.connection = connectable.connect();\n        }\n        return subscription;\n    };\n    return RefCountOperator;\n}());\nvar RefCountSubscriber = (function (_super) {\n    __extends(RefCountSubscriber, _super);\n    function RefCountSubscriber(destination, connectable) {\n        _super.call(this, destination);\n        this.connectable = connectable;\n    }\n    /** @deprecated internal use only */ RefCountSubscriber.prototype._unsubscribe = function () {\n        var connectable = this.connectable;\n        if (!connectable) {\n            this.connection = null;\n            return;\n        }\n        this.connectable = null;\n        var refCount = connectable._refCount;\n        if (refCount <= 0) {\n            this.connection = null;\n            return;\n        }\n        connectable._refCount = refCount - 1;\n        if (refCount > 1) {\n            this.connection = null;\n            return;\n        }\n        ///\n        // Compare the local RefCountSubscriber's connection Subscription to the\n        // connection Subscription on the shared ConnectableObservable. In cases\n        // where the ConnectableObservable source synchronously emits values, and\n        // the RefCountSubscriber's downstream Observers synchronously unsubscribe,\n        // execution continues to here before the RefCountOperator has a chance to\n        // supply the RefCountSubscriber with the shared connection Subscription.\n        // For example:\n        // ```\n        // Observable.range(0, 10)\n        //   .publish()\n        //   .refCount()\n        //   .take(5)\n        //   .subscribe();\n        // ```\n        // In order to account for this case, RefCountSubscriber should only dispose\n        // the ConnectableObservable's shared connection Subscription if the\n        // connection Subscription exists, *and* either:\n        //   a. RefCountSubscriber doesn't have a reference to the shared connection\n        //      Subscription yet, or,\n        //   b. RefCountSubscriber's connection Subscription reference is identical\n        //      to the shared connection Subscription\n        ///\n        var connection = this.connection;\n        var sharedConnection = connectable._connection;\n        this.connection = null;\n        if (sharedConnection && (!connection || sharedConnection === connection)) {\n            sharedConnection.unsubscribe();\n        }\n    };\n    return RefCountSubscriber;\n}(Subscriber_1.Subscriber));\n//# sourceMappingURL=ConnectableObservable.js.map"]},"metadata":{},"sourceType":"script"}