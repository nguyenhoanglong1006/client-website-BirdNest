{"ast":null,"code":"\"use strict\";\n\nvar root_1 = require('./root');\n\nvar isArrayLike_1 = require('./isArrayLike');\n\nvar isPromise_1 = require('./isPromise');\n\nvar isObject_1 = require('./isObject');\n\nvar Observable_1 = require('../Observable');\n\nvar iterator_1 = require('../symbol/iterator');\n\nvar InnerSubscriber_1 = require('../InnerSubscriber');\n\nvar observable_1 = require('../symbol/observable');\n\nfunction subscribeToResult(outerSubscriber, result, outerValue, outerIndex) {\n  var destination = new InnerSubscriber_1.InnerSubscriber(outerSubscriber, outerValue, outerIndex);\n\n  if (destination.closed) {\n    return null;\n  }\n\n  if (result instanceof Observable_1.Observable) {\n    if (result._isScalar) {\n      destination.next(result.value);\n      destination.complete();\n      return null;\n    } else {\n      destination.syncErrorThrowable = true;\n      return result.subscribe(destination);\n    }\n  } else if (isArrayLike_1.isArrayLike(result)) {\n    for (var i = 0, len = result.length; i < len && !destination.closed; i++) {\n      destination.next(result[i]);\n    }\n\n    if (!destination.closed) {\n      destination.complete();\n    }\n  } else if (isPromise_1.isPromise(result)) {\n    result.then(function (value) {\n      if (!destination.closed) {\n        destination.next(value);\n        destination.complete();\n      }\n    }, function (err) {\n      return destination.error(err);\n    }).then(null, function (err) {\n      // Escaping the Promise trap: globally throw unhandled errors\n      root_1.root.setTimeout(function () {\n        throw err;\n      });\n    });\n    return destination;\n  } else if (result && typeof result[iterator_1.iterator] === 'function') {\n    var iterator = result[iterator_1.iterator]();\n\n    do {\n      var item = iterator.next();\n\n      if (item.done) {\n        destination.complete();\n        break;\n      }\n\n      destination.next(item.value);\n\n      if (destination.closed) {\n        break;\n      }\n    } while (true);\n  } else if (result && typeof result[observable_1.observable] === 'function') {\n    var obs = result[observable_1.observable]();\n\n    if (typeof obs.subscribe !== 'function') {\n      destination.error(new TypeError('Provided object does not correctly implement Symbol.observable'));\n    } else {\n      return obs.subscribe(new InnerSubscriber_1.InnerSubscriber(outerSubscriber, outerValue, outerIndex));\n    }\n  } else {\n    var value = isObject_1.isObject(result) ? 'an invalid object' : \"'\" + result + \"'\";\n    var msg = \"You provided \" + value + \" where a stream was expected.\" + ' You can provide an Observable, Promise, Array, or Iterable.';\n    destination.error(new TypeError(msg));\n  }\n\n  return null;\n}\n\nexports.subscribeToResult = subscribeToResult; //# sourceMappingURL=subscribeToResult.js.map","map":{"version":3,"sources":["/Users/nguyenlong/ProjectCompany/2nMart/websiteclient-2nmart.vn/node_modules/ng5-slider/node_modules/rxjs/util/subscribeToResult.js"],"names":["root_1","require","isArrayLike_1","isPromise_1","isObject_1","Observable_1","iterator_1","InnerSubscriber_1","observable_1","subscribeToResult","outerSubscriber","result","outerValue","outerIndex","destination","InnerSubscriber","closed","Observable","_isScalar","next","value","complete","syncErrorThrowable","subscribe","isArrayLike","i","len","length","isPromise","then","err","error","root","setTimeout","iterator","item","done","observable","obs","TypeError","isObject","msg","exports"],"mappings":"AAAA;;AACA,IAAIA,MAAM,GAAGC,OAAO,CAAC,QAAD,CAApB;;AACA,IAAIC,aAAa,GAAGD,OAAO,CAAC,eAAD,CAA3B;;AACA,IAAIE,WAAW,GAAGF,OAAO,CAAC,aAAD,CAAzB;;AACA,IAAIG,UAAU,GAAGH,OAAO,CAAC,YAAD,CAAxB;;AACA,IAAII,YAAY,GAAGJ,OAAO,CAAC,eAAD,CAA1B;;AACA,IAAIK,UAAU,GAAGL,OAAO,CAAC,oBAAD,CAAxB;;AACA,IAAIM,iBAAiB,GAAGN,OAAO,CAAC,oBAAD,CAA/B;;AACA,IAAIO,YAAY,GAAGP,OAAO,CAAC,sBAAD,CAA1B;;AACA,SAASQ,iBAAT,CAA2BC,eAA3B,EAA4CC,MAA5C,EAAoDC,UAApD,EAAgEC,UAAhE,EAA4E;AACxE,MAAIC,WAAW,GAAG,IAAIP,iBAAiB,CAACQ,eAAtB,CAAsCL,eAAtC,EAAuDE,UAAvD,EAAmEC,UAAnE,CAAlB;;AACA,MAAIC,WAAW,CAACE,MAAhB,EAAwB;AACpB,WAAO,IAAP;AACH;;AACD,MAAIL,MAAM,YAAYN,YAAY,CAACY,UAAnC,EAA+C;AAC3C,QAAIN,MAAM,CAACO,SAAX,EAAsB;AAClBJ,MAAAA,WAAW,CAACK,IAAZ,CAAiBR,MAAM,CAACS,KAAxB;AACAN,MAAAA,WAAW,CAACO,QAAZ;AACA,aAAO,IAAP;AACH,KAJD,MAKK;AACDP,MAAAA,WAAW,CAACQ,kBAAZ,GAAiC,IAAjC;AACA,aAAOX,MAAM,CAACY,SAAP,CAAiBT,WAAjB,CAAP;AACH;AACJ,GAVD,MAWK,IAAIZ,aAAa,CAACsB,WAAd,CAA0Bb,MAA1B,CAAJ,EAAuC;AACxC,SAAK,IAAIc,CAAC,GAAG,CAAR,EAAWC,GAAG,GAAGf,MAAM,CAACgB,MAA7B,EAAqCF,CAAC,GAAGC,GAAJ,IAAW,CAACZ,WAAW,CAACE,MAA7D,EAAqES,CAAC,EAAtE,EAA0E;AACtEX,MAAAA,WAAW,CAACK,IAAZ,CAAiBR,MAAM,CAACc,CAAD,CAAvB;AACH;;AACD,QAAI,CAACX,WAAW,CAACE,MAAjB,EAAyB;AACrBF,MAAAA,WAAW,CAACO,QAAZ;AACH;AACJ,GAPI,MAQA,IAAIlB,WAAW,CAACyB,SAAZ,CAAsBjB,MAAtB,CAAJ,EAAmC;AACpCA,IAAAA,MAAM,CAACkB,IAAP,CAAY,UAAUT,KAAV,EAAiB;AACzB,UAAI,CAACN,WAAW,CAACE,MAAjB,EAAyB;AACrBF,QAAAA,WAAW,CAACK,IAAZ,CAAiBC,KAAjB;AACAN,QAAAA,WAAW,CAACO,QAAZ;AACH;AACJ,KALD,EAKG,UAAUS,GAAV,EAAe;AAAE,aAAOhB,WAAW,CAACiB,KAAZ,CAAkBD,GAAlB,CAAP;AAAgC,KALpD,EAMKD,IANL,CAMU,IANV,EAMgB,UAAUC,GAAV,EAAe;AAC3B;AACA9B,MAAAA,MAAM,CAACgC,IAAP,CAAYC,UAAZ,CAAuB,YAAY;AAAE,cAAMH,GAAN;AAAY,OAAjD;AACH,KATD;AAUA,WAAOhB,WAAP;AACH,GAZI,MAaA,IAAIH,MAAM,IAAI,OAAOA,MAAM,CAACL,UAAU,CAAC4B,QAAZ,CAAb,KAAuC,UAArD,EAAiE;AAClE,QAAIA,QAAQ,GAAGvB,MAAM,CAACL,UAAU,CAAC4B,QAAZ,CAAN,EAAf;;AACA,OAAG;AACC,UAAIC,IAAI,GAAGD,QAAQ,CAACf,IAAT,EAAX;;AACA,UAAIgB,IAAI,CAACC,IAAT,EAAe;AACXtB,QAAAA,WAAW,CAACO,QAAZ;AACA;AACH;;AACDP,MAAAA,WAAW,CAACK,IAAZ,CAAiBgB,IAAI,CAACf,KAAtB;;AACA,UAAIN,WAAW,CAACE,MAAhB,EAAwB;AACpB;AACH;AACJ,KAVD,QAUS,IAVT;AAWH,GAbI,MAcA,IAAIL,MAAM,IAAI,OAAOA,MAAM,CAACH,YAAY,CAAC6B,UAAd,CAAb,KAA2C,UAAzD,EAAqE;AACtE,QAAIC,GAAG,GAAG3B,MAAM,CAACH,YAAY,CAAC6B,UAAd,CAAN,EAAV;;AACA,QAAI,OAAOC,GAAG,CAACf,SAAX,KAAyB,UAA7B,EAAyC;AACrCT,MAAAA,WAAW,CAACiB,KAAZ,CAAkB,IAAIQ,SAAJ,CAAc,gEAAd,CAAlB;AACH,KAFD,MAGK;AACD,aAAOD,GAAG,CAACf,SAAJ,CAAc,IAAIhB,iBAAiB,CAACQ,eAAtB,CAAsCL,eAAtC,EAAuDE,UAAvD,EAAmEC,UAAnE,CAAd,CAAP;AACH;AACJ,GARI,MASA;AACD,QAAIO,KAAK,GAAGhB,UAAU,CAACoC,QAAX,CAAoB7B,MAApB,IAA8B,mBAA9B,GAAoD,MAAMA,MAAN,GAAe,GAA/E;AACA,QAAI8B,GAAG,GAAI,kBAAkBrB,KAAlB,GAA0B,+BAA3B,GACJ,8DADN;AAEAN,IAAAA,WAAW,CAACiB,KAAZ,CAAkB,IAAIQ,SAAJ,CAAcE,GAAd,CAAlB;AACH;;AACD,SAAO,IAAP;AACH;;AACDC,OAAO,CAACjC,iBAAR,GAA4BA,iBAA5B,C,CACA","sourcesContent":["\"use strict\";\nvar root_1 = require('./root');\nvar isArrayLike_1 = require('./isArrayLike');\nvar isPromise_1 = require('./isPromise');\nvar isObject_1 = require('./isObject');\nvar Observable_1 = require('../Observable');\nvar iterator_1 = require('../symbol/iterator');\nvar InnerSubscriber_1 = require('../InnerSubscriber');\nvar observable_1 = require('../symbol/observable');\nfunction subscribeToResult(outerSubscriber, result, outerValue, outerIndex) {\n    var destination = new InnerSubscriber_1.InnerSubscriber(outerSubscriber, outerValue, outerIndex);\n    if (destination.closed) {\n        return null;\n    }\n    if (result instanceof Observable_1.Observable) {\n        if (result._isScalar) {\n            destination.next(result.value);\n            destination.complete();\n            return null;\n        }\n        else {\n            destination.syncErrorThrowable = true;\n            return result.subscribe(destination);\n        }\n    }\n    else if (isArrayLike_1.isArrayLike(result)) {\n        for (var i = 0, len = result.length; i < len && !destination.closed; i++) {\n            destination.next(result[i]);\n        }\n        if (!destination.closed) {\n            destination.complete();\n        }\n    }\n    else if (isPromise_1.isPromise(result)) {\n        result.then(function (value) {\n            if (!destination.closed) {\n                destination.next(value);\n                destination.complete();\n            }\n        }, function (err) { return destination.error(err); })\n            .then(null, function (err) {\n            // Escaping the Promise trap: globally throw unhandled errors\n            root_1.root.setTimeout(function () { throw err; });\n        });\n        return destination;\n    }\n    else if (result && typeof result[iterator_1.iterator] === 'function') {\n        var iterator = result[iterator_1.iterator]();\n        do {\n            var item = iterator.next();\n            if (item.done) {\n                destination.complete();\n                break;\n            }\n            destination.next(item.value);\n            if (destination.closed) {\n                break;\n            }\n        } while (true);\n    }\n    else if (result && typeof result[observable_1.observable] === 'function') {\n        var obs = result[observable_1.observable]();\n        if (typeof obs.subscribe !== 'function') {\n            destination.error(new TypeError('Provided object does not correctly implement Symbol.observable'));\n        }\n        else {\n            return obs.subscribe(new InnerSubscriber_1.InnerSubscriber(outerSubscriber, outerValue, outerIndex));\n        }\n    }\n    else {\n        var value = isObject_1.isObject(result) ? 'an invalid object' : \"'\" + result + \"'\";\n        var msg = (\"You provided \" + value + \" where a stream was expected.\")\n            + ' You can provide an Observable, Promise, Array, or Iterable.';\n        destination.error(new TypeError(msg));\n    }\n    return null;\n}\nexports.subscribeToResult = subscribeToResult;\n//# sourceMappingURL=subscribeToResult.js.map"]},"metadata":{},"sourceType":"script"}